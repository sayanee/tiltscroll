/*! tiltscroll Version: 1.0.0 | (C) Sayanee Basu 2014, released under an MIT license */
!function(a,b){"use strict";"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b:a.tiltscroll=b()}(this,function(){"use strict";function a(a,b,c){return a*c+b*(1-c)}function b(){var a=new Event("scrolltiltStatusChange");a.status=d.status,a.zeroPositionAngle=d.zeroPositionAngle,a.zeroPositionScrollHeight=d.zeroPositionScrollHeight,e.dispatchEvent(a)}function c(){var a=new Event("scrollTiltInProgress");a.velocity=d.velocity,a.displacement=d.displacement,a.tiltTB=d.tiltTB,a.scrollHeight=d.scrollHeight,e.dispatchEvent(a)}var d={status:!1,zeroPositionAngle:0,zeroPositionScrollHeight:0,velocity:0,displacement:0,tiltTB:0,scrollHeight:0},e=window,f=document;return d.init=function(g){g=g||{};var h=g.smoothing||.1,i=g.timeout||1e4,j=g.minVelocity||.03,k=g.speed||10;d.status=!1;var l,m=0,n=0,o=!1,p=0,q=0;e.addEventListener("load",function(){e.addEventListener("touchstart",function(){d.status=!1,b()}),e.addEventListener("touchend",function(){d.status=!0,b(),o=!1})}),e.addEventListener("deviceorientation",function(g){o||(d.zeroPositionAngle=Math.abs(90-g.beta),d.zeroPositionScrollHeight=f.body.scrollTop,p=d.zeroPositionScrollHeight,o=!0),d.status&&(n=Math.abs(90-g.beta),m=m||n,q=a(n,m,h),d.displacement>0&&d.velocity<0?p+=k/150*Math.abs(d.displacement):d.displacement<0&&d.velocity>0&&(p-=k/150*Math.abs(d.displacement)),d.velocity=q-m,d.displacement=d.zeroPositionAngle-q,d.tiltTB=q,d.scrollHeight=p,c(),e.scrollTo(0,p),m=q,Math.abs(d.velocity)<j?l||(l=e.setTimeout(function(){d.status=!1,b()},i)):(e.clearTimeout(l),l=null))})},d});