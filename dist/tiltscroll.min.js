/*! tiltscroll Version: 1.0.0 | (C) Sayanee Basu 2014, released under an MIT license */
!function(a,b){"use strict";"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b:a.tiltscroll=b()}(this,function(){"use strict";function a(a,b,c){return a*c+b*(1-c)}function b(){var a=new Event("scrolltiltStatusChange");a.status=d.status,a.zeroPositionAngle=d.zeroPositionAngle,a.zeroPositionScrollHeight=d.zeroPositionScrollHeight,window.dispatchEvent(a)}function c(){var a=new Event("scrollTiltInProgress");a.velocity=d.velocity,a.displacement=d.displacement,a.tiltTB=d.tiltTB,a.scrollHeight=d.scrollHeight,window.dispatchEvent(a)}var d={status:!1,zeroPositionAngle:0,zeroPositionScrollHeight:0,velocity:0,displacement:0,tiltTB:0,scrollHeight:0};return d.init=function(e){e=e||{};var f=e.smoothing||.1,g=e.timeout||1e4,h=e.minVelocity||.03,i=e.speed||10;d.status=!1;var j,k=0,l=0,m=!1,n=0,o=0;window.addEventListener("load",function(){window.addEventListener("touchstart",function(){d.status=!1,b()}),window.addEventListener("touchend",function(){d.status=!0,b(),m=!1})}),window.addEventListener("deviceorientation",function(e){m||(d.zeroPositionAngle=Math.abs(90-e.beta),d.zeroPositionScrollHeight=document.body.scrollTop,n=d.zeroPositionScrollHeight,m=!0),d.status&&(k=k||0,l=Math.abs(90-e.beta),o=a(l,k,f),d.displacement>0&&d.velocity<0?n+=i/150*Math.abs(d.displacement):d.displacement<0&&d.velocity>0&&(n-=i/150*Math.abs(d.displacement)),d.velocity=o-k,d.displacement=d.zeroPositionAngle-o,d.tiltTB=o,d.scrollHeight=n,c(),window.scrollTo(0,n),k=o,Math.abs(d.velocity)<h?j||(j=window.setTimeout(function(){d.status=!1,b()},g)):(window.clearTimeout(j),j=null))})},d});